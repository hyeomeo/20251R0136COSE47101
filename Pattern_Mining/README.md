## 1. 분석 기법 선정 이유

빈발 패턴을 탐색하는 과정에 FP-Growth 기법을 사용했다. 이는 Apriori 기법 보다 메모리와 시간 부분에서 효율이 더 높아서 여러 조건부 필터를 사용하더라도
신속하게 계산이 가능한 장점이 존재한다.

또한 해당 기법을 사용함에 있어서 연관 규칙을 추출하기 위해 confidence 값이 0.35 이상인 것과, support 값이 0.8 % 이상이 되도록 설정했다.
최소한의 정확도를 보장하는 추천을 위해 조건부 확률 연관도가 35 % 가 넘는 것만 추출해 추천 정확도가 떨어지는 희박 규칙은 제거하도록 했다.

또한 전체적인 분석에 있어서 NetworkX 색상 매핑 규칙 기능을 활용해 텍스트 표로 만들어진 결과 값 보다 전달력있는 결과 값을 제공하고자 했다.

## 2. 구현 방식 요약

전체적인 방문지 지역명들 중에서 30회 이상 등장한, 즉 여러 사람이 방문한 지역의 행만 유지해서 Outlier에 해당하는 희소 지역들은 제외하고자 했다.

패턴 마이닝을 위한 트랜잭션은 [CLUSTER_x, VISIT_AREA_NM] 으로 생성하여 단순하게 지역 이름과 방문객 CLUSTER 집단 번호를 연결해서 2-items set으로 구성했다.

그후 FP-Growth(support ≥ 0.008)를 통해 association_rules() 로 confidence가 0.35 이상이 되는 규칙을 계산해주었다.

그리고 해당 규칙을 직접 시각화하여 특정 방문객 분류 집단이 어느 방문지를 자주 방문하는 지에 대해서 패턴을 한눈에 알아볼 수 있도록 하였다.

## 3. 결과 (예상 vs. 실제)

처음 예상은 생각보다 지역이 다양하게 존재해서 지역명 등장 횟수 조건을 10개 정도로 잡으려고 했으나, 생각보다 유명 관광지는 높은 빈도수로 등장하는 특성이 있어서
30회 정도로 늘려서 정상적인 패턴 마이닝이 가능하도록 수정했다.

또한 특정 클러스터 집합이 특정 관광지로 몰려서 confidence 수치가 좀 더 높게 나올 것으로 예상했으나,
클러스터 집단에 따라서 특정 관광지로 많이 치우치지 않고 0.5 이하의 confidence 수치가 주로 등장했다.

## 4. 분석 의미 & 향후 조치

처음에 패턴 마이닝 작업을 통해 기대한 결과는 “CLUSTER_1 고객은 광안리해수욕장을 60 % 확률로 방문” 같은 확실한 패턴으로 타깃 마케팅 추천 규칙을 생성하고자 했다.

하지만 이번 실행 결과를 통해 볼 때에 특정 클러스터 집합이 특정 관광지에 치우치는 충분히 강한 규칙은 존재하지 않는 것을 확인할 수 있었다.

클러스터 기준 방문지 편향이 작거나, 필터나 조건 임계치를 조금 수정할 필요가 있을 것으로 보인다.

따라서 향후 조치로 클러스터 기준을 조금 더 세분화하여 제대로 된 관광지 편향 규칙을 찾아내거나, 필터와 조건 임계치를 수정해서 confidence 수치를 조금 더 높일 수 있는 방안을 마련해보고자 한다.

5. 정리

Capital 항목 예시 결과 텍스트 값은 아래와 같다.

| antecedents             | consequents |   support |   confidence |
|:------------------------|:-----------|----------:|-------------:|
| (에버랜드)               | (CLUSTER_0.0) | 0.038128 |     0.385965 |
| (에버랜드)               | (CLUSTER_2.0) | 0.038128 |     0.385965 |
| (경복궁)                 | (CLUSTER_2.0) | 0.025997 |     0.468750 |
| (화성행궁)               | (CLUSTER_2.0) | 0.045061 |     0.356164 |
| (더 현대 서울)           | (CLUSTER_1.0) | 0.039861 |     0.365079 |
| (국립중앙박물관)         | (CLUSTER_0.0) | 0.038128 |     0.468085 |
| (송도센트럴파크)         | (CLUSTER_1.0) | 0.022530 |     0.371429 |
| (송도센트럴파크)         | (CLUSTER_0.0) | 0.029463 |     0.485714 |
| (헤이리 예술마을)        | (CLUSTER_1.0) | 0.025997 |     0.483871 |
| (인천 차이나타운)        | (CLUSTER_0.0) | 0.024263 |     0.411765 |
| (청계천)                 | (CLUSTER_2.0) | 0.022530 |     0.433333 |
| (롯데월드타워 롯데월드몰) | (CLUSTER_0.0) | 0.020797 |     0.375000 |
| (롯데월드타워 롯데월드몰) | (CLUSTER_2.0) | 0.020797 |     0.375000 |
| (캐리비안베이)           | (CLUSTER_2.0) | 0.027730 |     0.432432 |
| (두물머리)               | (CLUSTER_1.0) | 0.029463 |     0.447368 |
| (두물머리)               | (CLUSTER_0.0) | 0.025997 |     0.394737 |
| (스타필드 하남)          | (CLUSTER_0.0) | 0.020797 |     0.363636 |
| (방화수류정)             | (CLUSTER_2.0) | 0.032929 |     0.542857 |

현재 데이터에서는 “지역 ≥ 30회 & confidence ≥ 0.35” 조건으로 효과적인 추천을 위한 편향된 규칙은 나오지 않은 것 같다.

필터를 단계적으로 완화하고, 다차원(추가 속성) 규칙 탐색을 통해 실질적 인사이트를 찾는 것이 다음 과제이다.